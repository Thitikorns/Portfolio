<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Portfolio - LINE Specialist</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Prompt', sans-serif; }
        
        /* Custom Scrollbar */
        .json-scroll::-webkit-scrollbar { width: 8px; height: 8px; }
        .json-scroll::-webkit-scrollbar-track { background: #1e293b; border-radius: 4px; }
        .json-scroll::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        .json-scroll::-webkit-scrollbar-thumb:hover { background: #64748b; }

        /* Animations */
        @keyframes fade-in-up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in-up { animation: fade-in-up 0.8s ease-out forwards; }
        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
        
        .hide-scroll::-webkit-scrollbar { display: none; }
        .hide-scroll { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Icons ---
        const Icon = ({ name, size = 24, className }) => {
            if (!window.lucide) return <span className={className}>Icon</span>;
            useEffect(() => { lucide.createIcons(); }, [name]);
            return <i data-lucide={name} className={className} width={size} height={size}></i>;
        };

        // --- Modal ---
        const JsonModal = ({ title, code, onClose }) => {
            const [copied, setCopied] = useState(false);
            const handleCopy = () => {
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(JSON.stringify(code, null, 2));
                    setCopied(true);
                    setTimeout(() => setCopied(false), 2000);
                }
            };
            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in">
                    <div className="bg-slate-900 w-full max-w-3xl rounded-2xl overflow-hidden shadow-2xl flex flex-col max-h-[90vh]">
                        <div className="flex justify-between items-center p-4 border-b border-slate-700 bg-slate-800">
                            <h3 className="text-white font-bold flex items-center"><Icon name="code" size={20} className="mr-2 text-green-400" /> {title} - JSON Source</h3>
                            <button onClick={onClose} className="text-slate-400 hover:text-white"><Icon name="x" size={24} /></button>
                        </div>
                        <div className="flex-1 overflow-auto p-6 bg-[#0d1117] json-scroll">
                            <pre className="text-sm font-mono text-green-400 leading-relaxed whitespace-pre-wrap break-all">{JSON.stringify(code, null, 2)}</pre>
                        </div>
                        <div className="p-4 border-t border-slate-700 bg-slate-800 flex justify-end gap-3">
                            <button onClick={handleCopy} className={`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition ${copied ? 'bg-green-600 text-white' : 'bg-slate-700 text-slate-200'}`}><Icon name={copied ? "check" : "copy"} size={16} className="mr-2" /> {copied ? "Copied!" : "Copy JSON"}</button>
                            <button onClick={onClose} className="px-4 py-2 rounded-lg bg-slate-600 text-white text-sm font-medium hover:bg-slate-500">Close</button>
                        </div>
                    </div>
                </div>
            );
        };

        // --- Renderer Type 1 (Fixed & Complete) ---
        const LotteryFlexRenderer = ({ json }) => {
            if (!json || !json.body) return null;
            const mainContents = json.body?.contents?.[0]?.contents;
            if (!mainContents) return <div className="text-xs text-red-500">Error: Invalid JSON Structure</div>;

            const items = [0, 2, 4].map(idx => {
                const row = mainContents[idx];
                if (!row) return null;
                const iconUrl = row.contents?.[0]?.contents?.[0]?.url;
                const textBox = row.contents?.[1];
                const title = textBox?.contents?.[0]?.text || "";
                const sub = textBox?.contents?.[1]?.text || "";
                return { img: iconUrl, title, sub };
            }).filter(Boolean);

            const headerRatio = json.header?.contents?.[0]?.aspectRatio 
                ? json.header.contents[0].aspectRatio.replace(':', '/') 
                : 'auto';
            const heroRatio = json.hero?.aspectRatio 
                ? json.hero.aspectRatio.replace(':', '/') 
                : '16/9';
            
            return (
                <div className="bg-white w-full flex flex-col border border-slate-200 shadow-sm mx-auto overflow-hidden rounded-md">
                    {json.header?.contents?.[0]?.url && <img src={json.header.contents[0].url} className="w-full object-contain" style={{aspectRatio: headerRatio}} />}
                    {json.hero?.previewUrl && (
                        <div className="relative bg-black w-full" style={{aspectRatio: heroRatio}}>
                            <img src={json.hero.previewUrl} className="w-full h-full object-cover" />
                            <div className="absolute inset-0 flex items-center justify-center bg-black/20 group cursor-pointer">
                                <div className="w-12 h-12 bg-white/90 rounded-full flex items-center justify-center pl-1 shadow-lg group-hover:scale-110 transition-transform">
                                    <Icon name="play" size={24} className="text-slate-900 fill-slate-900" />
                                </div>
                            </div>
                        </div>
                    )}
                    <div className="flex flex-col">
                        {items.map((item, i) => (
                            <div key={i} className="flex items-center p-4 gap-4 border-b border-slate-100 last:border-0 hover:bg-slate-50 transition-colors cursor-pointer group">
                                <div className="w-[70px] h-[70px] flex-shrink-0 bg-slate-50 rounded-2xl flex items-center justify-center border border-slate-100 group-hover:border-green-200 transition-colors overflow-hidden">
                                    <img src={item.img} className="w-full h-full object-contain" />
                                </div>
                                <div className="flex-1 min-w-0">
                                    <h4 className="font-bold text-lg text-slate-900 truncate leading-tight">{item.title}</h4>
                                    <p className="text-sm text-slate-500 truncate mt-0.5">{item.sub}</p>
                                </div>
                                <div className="w-6 opacity-40 group-hover:opacity-100 transition-opacity">
                                    <img src="https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_button/next.png" className="w-full" />
                                </div>
                            </div>
                        ))}
                    </div>
                    <div className="h-2 w-full" style={{ backgroundColor: json.footer?.backgroundColor || '#ff0200' }}></div>
                </div>
            );
        };

        // --- Renderer Type 2 (Carousel Layers) ---
        const Type2CarouselRenderer = ({ json }) => {
            if (!json || json.type !== 'carousel') return null;
            return (
                <div className="flex overflow-x-auto pb-4 gap-3 snap-x w-full hide-scroll pl-1">
                    {json.contents.map((bubble, i) => {
                        const layerBox = bubble.body?.contents?.find(c => c.position === 'absolute' && c.contents?.length > 0);
                        const images = layerBox ? layerBox.contents : [];
                        return (
                            <div key={i} className="flex-shrink-0 snap-center bg-white rounded-2xl overflow-hidden shadow-sm border border-slate-100 relative group cursor-pointer" style={{width: '240px', height: '320px'}}>
                                <div className="relative w-full h-full bg-white group-hover:brightness-[1.02] transition">
                                    {images.map((img, idx) => (
                                        <img key={idx} src={img.url} className="absolute left-0 right-0 mx-auto object-contain pointer-events-none" style={{ width: img.size || '100%', top: idx === 0 ? '20px' : idx === 1 ? '60px' : 'auto', bottom: idx === 2 ? '0' : 'auto', zIndex: idx }} />
                                    ))}
                                </div>
                            </div>
                        )
                    })}
                </div>
            )
        };

        // --- Renderer Type 3 (New Gradient/Grid Carousel - ROBUST FIX) ---
        const Type3CarouselRenderer = ({ json }) => {
            if (!json || json.type !== 'carousel') return null;

            // --- Recursive Finders ---
            const findTexts = (node) => {
                if (!node) return [];
                if (node.type === 'text' && node.text && node.text.trim() !== '') return [node.text];
                if (node.contents && Array.isArray(node.contents)) {
                    let texts = [];
                    for (let c of node.contents) {
                        texts = [...texts, ...findTexts(c)];
                    }
                    return texts;
                }
                return [];
            };

            const findImageUrl = (node) => {
                if (!node) return null;
                if (node.type === 'image') return node.url;
                if (node.contents && Array.isArray(node.contents)) {
                    for (let c of node.contents) {
                        const found = findImageUrl(c);
                        if (found) return found;
                    }
                }
                return null;
            };

            // Recursively find all white boxes (The main content containers)
            const findWhiteBoxes = (node) => {
                if (!node) return [];
                if (node.type === 'box' && node.backgroundColor === '#ffffff') return [node];
                if (node.contents && Array.isArray(node.contents)) {
                    let boxes = [];
                    for (let c of node.contents) {
                        boxes = [...boxes, ...findWhiteBoxes(c)];
                    }
                    return boxes;
                }
                return [];
            };

            // Recursively find warning text (Absolute positioned)
            const findWarningText = (node) => {
                if (!node) return null;
                if (node.type === 'text' && node.position === 'absolute' && node.text.includes('ความเชื่อ')) return node.text;
                if (node.contents && Array.isArray(node.contents)) {
                    for (let c of node.contents) {
                        const found = findWarningText(c);
                        if (found) return found;
                    }
                }
                return null;
            };

            return (
                <div className="flex overflow-x-auto pb-4 gap-3 snap-x w-full hide-scroll pl-1">
                    {json.contents.map((bubble, i) => {
                        const isCover = i === 0;
                        
                        // --- Cover Slide (Index 0) ---
                        if (isCover) {
                            const bodyContents = bubble.body.contents;
                            const heroImg = bubble.hero?.url;
                            
                            // Correct Indices for Cover (Skipping potential empty box at index 1)
                            // 0: BG, 1: Empty, 2: Title, 3: Date, 4: Mascot
                            const bgPatternUrl = bodyContents[0]?.url;
                            const titleImgUrl = bodyContents[2]?.url; 
                            const dateText = bodyContents[3]?.text;
                            const mascotUrl = bodyContents[4]?.url;
                            
                            const bgGradient = bubble.body.background;
                            const gradientStyle = bgGradient ? { background: `linear-gradient(${bgGradient.angle}, ${bgGradient.startColor}, ${bgGradient.endColor})` } : {};

                            return (
                                <div key={i} className="flex-shrink-0 snap-center rounded-2xl overflow-hidden shadow-sm border border-slate-100 relative flex flex-col" style={{width: '260px', height: '420px'}}>
                                    <div className="bg-white pt-4 pb-2 flex justify-center items-center h-[80px]">
                                        <img src={heroImg} className="w-[150px] object-contain" />
                                    </div>
                                    <div className="flex-1 relative overflow-hidden" style={gradientStyle}>
                                        <div className="relative w-full h-full">
                                            <img src={bgPatternUrl} className="absolute w-full object-cover opacity-40 z-0" style={{top: '-40px'}} />
                                            <div className="relative w-full h-full flex flex-col items-center">
                                                <img src={titleImgUrl} className="w-[90%] object-contain z-10 mt-[-20px]" />
                                                <div className="absolute w-full text-center z-20" style={{top: '70px'}}>
                                                    <p className="text-lg font-bold text-white drop-shadow-md">{dateText}</p>
                                                    <p className="text-[10px] text-white/90">ประจำงวดวันที่ 16 พฤศจิกายน 2568</p>
                                                </div>
                                                <img src={mascotUrl} className="absolute w-[80%] object-contain z-30" style={{bottom: '-10px'}} />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            );
                        }

                        // --- Content Slides (Indexes > 0) ---
                        const contentBoxes = findWhiteBoxes(bubble.body);
                        const warningText = findWarningText(bubble.body) || "";

                        if (contentBoxes.length === 0) return <div key={i} className="w-[260px] h-[420px] bg-red-50 flex items-center justify-center text-red-400">No Content</div>;

                        return (
                            <div key={i} className="flex-shrink-0 snap-center bg-white rounded-2xl overflow-hidden shadow-sm border border-slate-200 relative p-2" style={{width: '260px', height: '420px'}}>
                                <div className="flex-1 overflow-y-auto hide-scroll p-2 space-y-2">
                                    {contentBoxes.map((contentBox, boxIdx) => {
                                        const innerContents = contentBox.contents || [];
                                        const headerBox = innerContents[0];
                                        
                                        // Header Logic (Gradient vs Image)
                                        let headerLogoUrl = null;
                                        let headerGradient = null;
                                        if (headerBox.type === 'image') {
                                            headerLogoUrl = headerBox.url;
                                        } else {
                                            headerLogoUrl = findImageUrl(headerBox);
                                            headerGradient = headerBox.background;
                                        }
                                        const headerStyle = headerGradient ? { background: `linear-gradient(${headerGradient.angle}, ${headerGradient.startColor}, ${headerGradient.endColor})` } : { backgroundColor: '#ffffff' };

                                        // Body Logic (Scan for Numbers vs Label)
                                        const restNodes = innerContents.slice(1);
                                        let allTexts = [];
                                        restNodes.forEach(n => { allTexts = [...allTexts, ...findTexts(n)]; });
                                        
                                        // Filter empty strings and non-visible chars
                                        allTexts = allTexts.filter(t => t && t.trim().length > 0);

                                        const numbers = [];
                                        let labelText = "";
                                        
                                        allTexts.forEach(txt => {
                                            // Simple digit check, can be improved for "15" vs "แม่ตุ๊กตา"
                                            if (/^\d+$/.test(txt)) { 
                                                numbers.push(txt); 
                                            } else { 
                                                labelText = txt; 
                                            }
                                        });

                                        return (
                                            <div key={boxIdx} className="bg-white rounded-xl overflow-hidden shadow-sm border border-slate-100 flex flex-col">
                                                {/* Header */}
                                                <div className="p-4 relative h-[80px] flex items-center justify-center overflow-hidden" style={headerStyle}>
                                                    {headerLogoUrl ? <img src={headerLogoUrl} className={`${headerGradient ? 'w-[70%]' : 'w-full'} h-full object-contain relative z-10`} /> : null}
                                                    {headerGradient && <div className="absolute inset-2 border border-white/20 rounded-lg pointer-events-none"></div>}
                                                </div>
                                                {/* Body */}
                                                <div className="py-2 px-2 flex flex-col items-center gap-1 bg-slate-50/50">
                                                    <div className="flex w-full justify-center gap-4 px-2">
                                                        {numbers.slice(0, 2).map((t, idx) => (
                                                            <span key={idx} className="text-2xl font-bold text-slate-800 tracking-wider">{t}</span>
                                                        ))}
                                                    </div>
                                                    {numbers.length > 2 && <div className="w-1/2 h-[1px] bg-slate-200"></div>}
                                                    <div className="flex w-full justify-center gap-2 px-2 flex-wrap">
                                                        {numbers.slice(2).map((t, idx) => (
                                                            <span key={idx} className="text-sm font-bold text-slate-600 bg-white px-1 rounded shadow-sm border border-slate-100 min-w-[20px] text-center">{t}</span>
                                                        ))}
                                                    </div>
                                                    {labelText && <span className="text-xs font-bold text-slate-600 mt-1">{labelText}</span>}
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>
                                <div className="h-6 w-full relative">
                                    {warningText && <p className="text-[9px] text-slate-400 absolute bottom-1 right-2 text-right w-full">{warningText}</p>}
                                </div>
                            </div>
                        );
                    })}
                </div>
            );
        }

        // --- Pages ---
        const Navbar = ({ setPage, currentPage }) => (
            <nav className="fixed top-0 w-full bg-white/80 backdrop-blur-md border-b border-slate-200 z-50 px-6 py-4 flex justify-between items-center">
                <div className="text-2xl font-bold bg-gradient-to-r from-green-500 to-blue-600 bg-clip-text text-transparent cursor-pointer" onClick={() => setPage('home')}>PORTFOLIO.</div>
                <div className="space-x-2 hidden md:block">
                    {['home', 'flex', 'platform'].map(p => (
                        <button key={p} onClick={() => setPage(p)} className={`px-4 py-2 rounded-full text-sm font-medium transition capitalize ${currentPage === p ? 'bg-slate-900 text-white' : 'text-slate-600 hover:bg-slate-100'}`}>{p}</button>
                    ))}
                </div>
            </nav>
        );

        const HomePage = ({ setPage }) => (
            <div className="min-h-screen flex flex-col justify-center items-center pt-20 px-4">
                <div className="text-center max-w-3xl animate-fade-in-up">
                    <span className="inline-block py-1 px-3 rounded-full bg-green-100 text-green-700 text-xs font-bold tracking-wider mb-4">LINE TECHNOLOGY SPECIALIST</span>
                    <h1 className="text-5xl md:text-7xl font-bold text-slate-900 mb-6 leading-tight">สร้างประสบการณ์ <br/><span className="text-transparent bg-clip-text bg-gradient-to-r from-green-500 to-blue-600">Digital ที่ดีกว่า</span></h1>
                    <p className="text-slate-500 text-lg md:text-xl mb-10 max-w-2xl mx-auto">รวบรวมผลงานการออกแบบ Flex Message UX/UI และการวางระบบ Data Platform สำหรับการทำ CRM ที่มีประสิทธิภาพ</p>
                    <div className="grid md:grid-cols-2 gap-6 w-full max-w-4xl mx-auto">
                        <div onClick={() => setPage('flex')} className="group bg-white p-8 rounded-3xl shadow-sm border border-slate-100 hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer text-left relative overflow-hidden">
                            <div className="absolute top-0 right-0 w-32 h-32 bg-green-50 rounded-full -mr-10 -mt-10 transition group-hover:scale-110"></div>
                            <div className="w-12 h-12 bg-green-100 rounded-2xl flex items-center justify-center text-green-600 mb-4 relative z-10"><Icon name="smartphone" /></div>
                            <h3 className="text-2xl font-bold text-slate-800 mb-2 relative z-10">LINE Flex Messages</h3>
                            <p className="text-slate-500 relative z-10">รวม 6 ผลงานออกแบบ Flex Message ที่ตอบโจทย์ธุรกิจ</p>
                            <div className="mt-4 flex items-center text-green-600 font-semibold text-sm relative z-10 group-hover:translate-x-2 transition">ดูผลงาน <Icon name="arrow-right" size={16} className="ml-1" /></div>
                        </div>
                        <div onClick={() => setPage('platform')} className="group bg-white p-8 rounded-3xl shadow-sm border border-slate-100 hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer text-left relative overflow-hidden">
                            <div className="absolute top-0 right-0 w-32 h-32 bg-blue-50 rounded-full -mr-10 -mt-10 transition group-hover:scale-110"></div>
                            <div className="w-12 h-12 bg-blue-100 rounded-2xl flex items-center justify-center text-blue-600 mb-4 relative z-10"><Icon name="database" /></div>
                            <h3 className="text-2xl font-bold text-slate-800 mb-2 relative z-10">Broadcast Data Platform</h3>
                            <p className="text-slate-500 relative z-10">ระบบจัดการข้อมูลลูกค้า (CDP) เพื่อการบรอดแคสต์ที่แม่นยำ</p>
                            <div className="mt-4 flex items-center text-blue-600 font-semibold text-sm relative z-10 group-hover:translate-x-2 transition">ดูระบบ <Icon name="arrow-right" size={16} className="ml-1" /></div>
                        </div>
                    </div>
                </div>
            </div>
        );

        const PlatformPage = ({ setPage }) => (
            <div className="min-h-screen bg-slate-50 pt-24 pb-12 px-6">
                <div className="max-w-5xl mx-auto">
                    <div className="flex items-center mb-8 cursor-pointer text-slate-500 hover:text-blue-600 transition" onClick={() => setPage('home')}>
                        <Icon name="arrow-left" size={20} className="mr-2" /> กลับหน้าหลัก
                    </div>
                    <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-10">
                        <div><h2 className="text-4xl font-bold text-slate-900 mb-2">Broadcast Data Platform</h2><p className="text-slate-500">Architecture Design for Personalized Marketing</p></div>
                        <span className="mt-4 md:mt-0 px-4 py-2 bg-blue-100 text-blue-700 font-bold rounded-full text-sm">System Version 2.0</span>
                    </div>
                    <div className="bg-white p-8 md:p-12 rounded-3xl shadow-sm border border-slate-200 mb-10 relative overflow-hidden">
                        <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-400 to-indigo-500"></div>
                        <h3 className="text-xl font-bold text-slate-800 mb-8 flex items-center"><Icon name="activity" className="mr-2 text-blue-500" /> Data Flow Overview</h3>
                        <div className="flex flex-col md:flex-row items-center justify-between gap-4 md:gap-8 relative">
                            <div className="flex flex-col items-center z-10 w-full md:w-1/3"><div className="w-full bg-slate-50 border-2 border-dashed border-slate-300 p-6 rounded-2xl text-center mb-4"><div className="flex justify-center space-x-4 text-slate-400 mb-3"><Icon name="globe" /> <Icon name="smartphone" /> <Icon name="shopping-cart" /></div><h4 className="font-bold text-slate-700">Data Sources</h4><p className="text-xs text-slate-500 mt-1">Web, App, POS, CRM</p></div></div>
                            <div className="hidden md:block text-slate-300"><Icon name="arrow-right" size={32} /></div>
                            <div className="flex flex-col items-center z-10 w-full md:w-1/3"><div className="w-full bg-blue-600 text-white p-6 rounded-2xl shadow-lg shadow-blue-200 text-center relative"><div className="absolute -top-3 -right-3 bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-1 rounded-md shadow-sm">Core Engine</div><Icon name="cpu" size={32} className="mx-auto mb-3 text-blue-200" /><h4 className="font-bold text-lg">CDP Engine</h4><p className="text-xs text-blue-200 mt-1">Segmentation & Personalization</p></div></div>
                            <div className="hidden md:block text-slate-300"><Icon name="arrow-right" size={32} /></div>
                            <div className="flex flex-col items-center z-10 w-full md:w-1/3"><div className="w-full bg-green-50 border border-green-200 p-6 rounded-2xl text-center"><Icon name="send" size={32} className="mx-auto mb-3 text-green-600" /><h4 className="font-bold text-green-800">LINE Broadcast</h4><p className="text-xs text-green-600 mt-1">Targeted Messages</p></div></div>
                        </div>
                    </div>
                </div>
            </div>
        );

        const FlexPage = ({ setPage }) => {
            const [selectedJson, setSelectedJson] = useState(null);

            // --- REAL JSON DATA SETS ---
            const lotteryJson = {
                "type": "bubble", "size": "giga",
                "header": { "type": "box", "layout": "vertical", "contents": [{ "type": "image", "size": "full", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_background/Headband_3_black.png", "aspectMode": "fit", "aspectRatio": "5:1" }] },
                "hero": { "type": "video", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_video/250801_Prize_chudyai.mp4", "previewUrl": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_vdo_cover/250801_Prize_chudyai_Cover.png", "aspectRatio": "16:9" },
                "body": { "type": "box", "layout": "vertical", "contents": [{ "type": "box", "layout": "vertical", "contents": [
                    { "type": "box", "layout": "horizontal", "contents": [{ "type": "box", "layout": "vertical", "contents": [{ "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_button/purchase_lottery_flex1.png" }] }, { "type": "box", "layout": "vertical", "contents": [{ "type": "text", "text": "ซื้อลอตเตอรี่" }, { "type": "text", "text": "กี่ใบก็มีลุ้น! โอกาสมีอยู่ทุกใบ" }] }] },
                    { "type": "separator" },
                    { "type": "box", "layout": "horizontal", "contents": [{ "type": "box", "layout": "vertical", "contents": [{ "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_button/purchase_jidrid_flex1.png" }] }, { "type": "box", "layout": "vertical", "contents": [{ "type": "text", "text": "จิ๊ดริดหยิบโชค" }, { "type": "text", "text": "ไม่มีเลขในใจ ใช้จิ๊ดริดหยิบให้เลย" }] }] },
                    { "type": "separator" },
                    { "type": "box", "layout": "horizontal", "contents": [{ "type": "box", "layout": "vertical", "contents": [{ "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_button/purchase_goldentime_flex1.png" }] }, { "type": "box", "layout": "vertical", "contents": [{ "type": "text", "text": "นาทีทอง" }, { "type": "text", "text": "นาทีนี้ใครไว ใครได้" }] }] }
                ] }] },
                "footer": { "type": "box", "layout": "vertical", "contents": [], "backgroundColor": "#ff0200ff" }
            };

            const lotteryJson2 = {
                "type": "carousel", "contents": [
                    { "type": "bubble", "body": { "type": "box", "layout": "vertical", "contents": [ { "type": "box", "layout": "vertical", "contents": [], "position": "absolute", "contents": [{ "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_head/Headcount_v2_changename/hcount_05.png" }, { "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_background/curve_3_card_material_flex1.png" }, { "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_jidrid/Jidrid_060.png" }] } ] } },
                    { "type": "bubble", "body": { "type": "box", "layout": "vertical", "contents": [ { "type": "box", "layout": "vertical", "contents": [], "position": "absolute", "contents": [{ "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_head/Headcount_v2_changename/hcount_10.png" }, { "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_background/curve_3_card_material_flex1.png" }, { "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_jidrid/Jidrid_134.png" }] } ] } },
                    { "type": "bubble", "body": { "type": "box", "layout": "vertical", "contents": [ { "type": "box", "layout": "vertical", "contents": [], "position": "absolute", "contents": [{ "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_head/Headcount_v2_changename/hcount_09.png" }, { "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_background/curve_3_card_material_flex1.png" }, { "type": "image", "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_jidrid/Jidrid_124.png" }] } ] } }
                ]
            };

            const lotteryJson3 = {
  "type": "carousel",
  "contents": [
    {
      "type": "bubble",
      "size": "mega",
      "hero": {
        "type": "image",
        "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_logolotteryplus/logo_lotteryplus_horizontal_red.png",
        "size": "200px",
        "aspectRatio": "5:1",
        "aspectMode": "fit",
        "action": {
          "type": "uri",
          "label": "รวมเลขเด็ดเลขดัง",
          "uri": "https://lin.ee/18vidat",
          "altUri": {
            "desktop": "https://lin.ee/18vidat"
          }
        },
        "margin": "sm"
      },
      "body": {
        "type": "box",
        "layout": "vertical",
        "spacing": "none",
        "contents": [
          {
            "type": "image",
            "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_background/lakdung_BC_flex3.png",
            "position": "absolute",
            "size": "380px",
            "gravity": "center",
            "align": "center",
            "margin": "none",
            "offsetTop": "-120px",
            "offsetStart": "0px",
            "aspectRatio": "1:2",
            "offsetEnd": "0px",
            "aspectMode": "fit",
            "offsetBottom": "-120px"
          },
          {
            "type": "box",
            "layout": "vertical",
            "contents": [],
            "position": "absolute",
            "offsetTop": "0%",
            "offsetBottom": "0%",
            "offsetStart": "0%",
            "offsetEnd": "0%"
          },
          {
            "type": "image",
            "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_coolnumber/ruamlakdetlakdang.png",
            "position": "relative",
            "aspectMode": "fit",
            "offsetTop": "-110px",
            "offsetStart": "0px",
            "margin": "lg",
            "size": "full"
          },
          {
            "type": "text",
            "text": "ประจำวันที่ 2 ตุลาคม 2568",
            "size": "lg",
            "align": "center",
            "color": "#ffffff",
            "contents": [
              {
                "type": "span",
                "text": "ประจำงวดวันที่ 16 พฤศจิกายน 2568",
                "weight": "bold",
                "style": "normal",
                "decoration": "none",
                "size": "xs"
              }
            ],
            "weight": "bold",
            "decoration": "none",
            "position": "absolute",
            "gravity": "center",
            "scaling": true,
            "wrap": true,
            "adjustMode": "shrink-to-fit",
            "maxLines": 1,
            "offsetStart": "53px",
            "offsetTop": "80px"
          },
          {
            "type": "image",
            "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_jidrid/Jidrid_122.png",
            "size": "3xl",
            "align": "center",
            "gravity": "center",
            "position": "absolute",
            "offsetStart": "65px",
            "offsetTop": "130px"
          }
        ],
        "background": {
          "type": "linearGradient",
          "angle": "0deg",
          "startColor": "#93291E",
          "endColor": "#ED213A",
          "centerColor": "#DC281E"
        },
        "flex": 1
      }
    },
    {
      "type": "bubble",
      "size": "mega",
      "body": {
        "type": "box",
        "layout": "vertical",
        "contents": [
          {
            "type": "box",
            "layout": "vertical",
            "backgroundColor": "#ffffff",
            "cornerRadius": "xl",
            "paddingAll": "xs",
            "contents": [
              {
                "type": "box",
                "layout": "horizontal",
                "cornerRadius": "xl",
                "paddingAll": "md",
                "contents": [
                  {
                    "type": "box",
                    "layout": "vertical",
                    "contents": [
                      {
                        "type": "box",
                        "layout": "horizontal",
                        "spacing": "sm",
                        "contents": [
                          {
                            "type": "image",
                            "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_logo_program/logo2_lakpeehian.png",
                            "aspectMode": "cover",
                            "size": "full",
                            "gravity": "center",
                            "align": "center",
                            "offsetTop": "10%",
                            "aspectRatio": "3.5:1"
                          }
                        ]
                      },
                      {
                        "type": "text",
                        "text": " ",
                        "color": "#fbfa10",
                        "style": "normal",
                        "weight": "regular",
                        "align": "end",
                        "size": "xxs",
                        "margin": "md"
                      }
                    ]
                  }
                ],
                "background": {
                  "type": "linearGradient",
                  "angle": "170deg",
                  "startColor": "#00000020",
                  "endColor": "#000000",
                  "centerColor": "#000000"
                },
                "margin": "xxl",
                "borderColor": "#FFFFFF",
                "borderWidth": "light"
              },
              {
                "type": "box",
                "layout": "horizontal",
                "spacing": "md",
                "margin": "lg",
                "justifyContent": "space-around",
                "contents": [
                  {
                    "type": "box",
                    "layout": "horizontal",
                    "alignItems": "center",
                    "contents": [
                      {
                        "type": "text",
                        "text": "283",
                        "weight": "bold",
                        "size": "lg",
                        "align": "center",
                        "offsetStart": "30px"
                      },
                      {
                        "type": "text",
                        "text": "20",
                        "weight": "bold",
                        "size": "lg",
                        "align": "center",
                        "offsetEnd": "30px"
                      }
                    ],
                    "flex": 3
                  }
                ]
              },
              {
                "type": "box",
                "layout": "vertical",
                "contents": [
                  {
                    "type": "text",
                    "text": "เลขปลดล็อก",
                    "size": "lg",
                    "align": "center",
                    "contents": [
                      {
                        "type": "span",
                        "text": "เลขลูกเต๋า และ เลขปิงปอง",
                        "size": "sm",
                        "weight": "bold",
                        "style": "normal"
                      }
                    ],
                    "margin": "10px"
                  }
                ],
                "margin": "5px"
              },
              {
                "type": "separator",
                "margin": "10px",
                "color": "#333333"
              }
            ],
            "spacing": "none",
            "offsetTop": "-20px",
            "margin": "xl"
          },
          {
            "type": "box",
            "layout": "vertical",
            "backgroundColor": "#ffffff",
            "cornerRadius": "xl",
            "paddingAll": "xs",
            "contents": [
              {
                "type": "image",
                "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_logo_program/logo4_chinesecalendar.png",
                "aspectMode": "fit",
                "aspectRatio": "2:1",
                "size": "full",
                "offsetTop": "-10px"
              },
              {
                "type": "text",
                "text": " ",
                "size": "xxs",
                "margin": "md",
                "color": "#000000",
                "weight": "regular",
                "align": "end",
                "style": "normal",
                "offsetTop": "-40px"
              },
              {
                "type": "box",
                "layout": "horizontal",
                "spacing": "md",
                "margin": "lg",
                "justifyContent": "space-around",
                "contents": [
                  {
                    "type": "box",
                    "layout": "horizontal",
                    "alignItems": "center",
                    "contents": [
                      {
                        "type": "text",
                        "text": "2",
                        "weight": "bold",
                        "size": "lg",
                        "align": "center",
                        "offsetStart": "20px"
                      },
                      {
                        "type": "text",
                        "text": "6",
                        "weight": "bold",
                        "size": "lg",
                        "align": "center",
                        "offsetStart": "10px"
                      },
                      {
                        "type": "text",
                        "text": "3",
                        "weight": "bold",
                        "size": "lg",
                        "align": "center",
                        "offsetEnd": "10px"
                      },
                      {
                        "type": "text",
                        "text": "5",
                        "size": "lg",
                        "weight": "bold",
                        "align": "center",
                        "offsetEnd": "20px"
                      }
                    ],
                    "justifyContent": "center"
                  }
                ]
              },
              {
                "type": "box",
                "layout": "vertical",
                "contents": [
                  {
                    "type": "text",
                    "text": "ปฏิทินจีน",
                    "size": "lg",
                    "align": "center",
                    "contents": [
                      {
                        "type": "span",
                        "weight": "bold",
                        "style": "normal",
                        "size": "sm",
                        "text": " "
                      }
                    ],
                    "margin": "10px"
                  }
                ],
                "margin": "5px",
                "offsetTop": "-45px"
              }
            ],
            "spacing": "none",
            "offsetTop": "-40px",
            "paddingBottom": "xxl",
            "margin": "10px"
          },
          {
            "type": "text",
            "text": "**เป็นความเชื่อส่วนบุคคล",
            "margin": "lg",
            "position": "absolute",
            "size": "xxl",
            "align": "end",
            "offsetStart": "170px",
            "offsetTop": "400px",
            "contents": [
              {
                "type": "span",
                "text": "**เป็นความเชื่อส่วนบุคคล",
                "size": "xxs",
                "style": "normal"
              }
            ],
            "style": "normal"
          }
        ],
        "cornerRadius": "xl",
        "paddingAll": "md",
        "height": "420px"
      }
    },
    {
      "type": "bubble",
      "size": "mega",
      "body": {
        "type": "box",
        "layout": "vertical",
        "contents": [
          {
            "type": "box",
            "layout": "vertical",
            "backgroundColor": "#ffffff",
            "cornerRadius": "xl",
            "paddingAll": "xs",
            "contents": [
              {
                "type": "box",
                "layout": "horizontal",
                "cornerRadius": "xl",
                "paddingAll": "md",
                "contents": [
                  {
                    "type": "box",
                    "layout": "vertical",
                    "contents": [
                      {
                        "type": "box",
                        "layout": "horizontal",
                        "spacing": "sm",
                        "contents": [
                          {
                            "type": "image",
                            "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_logo_program/logo5_ai.png",
                            "aspectMode": "cover",
                            "size": "full",
                            "gravity": "center",
                            "align": "center",
                            "offsetTop": "10%",
                            "aspectRatio": "3.5:1"
                          }
                        ]
                      },
                      {
                        "type": "text",
                        "text": " ",
                        "color": "#fbfa10",
                        "style": "normal",
                        "weight": "regular",
                        "align": "end",
                        "size": "xxs",
                        "margin": "md"
                      }
                    ]
                  }
                ],
                "background": {
                  "type": "linearGradient",
                  "angle": "170deg",
                  "startColor": "#921622",
                  "endColor": "#c8424f",
                  "centerColor": "#921622"
                },
                "margin": "xxl",
                "borderColor": "#FFFFFF",
                "borderWidth": "light"
              },
              {
                "type": "box",
                "layout": "horizontal",
                "spacing": "md",
                "margin": "sm",
                "justifyContent": "space-around",
                "contents": [
                  {
                    "type": "box",
                    "layout": "horizontal",
                    "alignItems": "center",
                    "contents": [
                      {
                        "type": "text",
                        "text": "15",
                        "weight": "bold",
                        "size": "lg",
                        "align": "center"
                      },
                      {
                        "type": "text",
                        "text": "63",
                        "weight": "bold",
                        "size": "lg",
                        "align": "center"
                      },
                      {
                        "type": "text",
                        "text": "89",
                        "weight": "bold",
                        "size": "lg",
                        "align": "center"
                      },
                      {
                        "type": "text",
                        "text": "07",
                        "weight": "bold",
                        "size": "lg",
                        "align": "center"
                      },
                      {
                        "type": "text",
                        "text": "42",
                        "align": "center",
                        "weight": "bold",
                        "style": "normal",
                        "size": "lg"
                      }
                    ],
                    "flex": 3
                  }
                ]
              },
              {
                "type": "box",
                "layout": "horizontal",
                "contents": [
                  {
                    "type": "text",
                    "text": "30",
                    "align": "center",
                    "style": "normal",
                    "weight": "bold",
                    "size": "lg"
                  },
                  {
                    "type": "text",
                    "text": "56",
                    "align": "center",
                    "weight": "bold",
                    "style": "normal",
                    "size": "lg"
                  },
                  {
                    "type": "text",
                    "text": "91",
                    "align": "center",
                    "weight": "bold",
                    "style": "normal",
                    "size": "lg"
                  },
                  {
                    "type": "text",
                    "text": "24",
                    "align": "center",
                    "weight": "bold",
                    "style": "normal",
                    "size": "lg"
                  },
                  {
                    "type": "text",
                    "text": "78",
                    "align": "center",
                    "weight": "bold",
                    "style": "normal",
                    "size": "lg"
                  }
                ],
                "flex": 2,
                "spacing": "sm"
              },
              {
                "type": "separator",
                "margin": "20px",
                "color": "#333333"
              }
            ],
            "spacing": "none",
            "offsetTop": "-20px",
            "margin": "xl"
          },
          {
            "type": "box",
            "layout": "vertical",
            "backgroundColor": "#ffffff",
            "cornerRadius": "xl",
            "paddingAll": "xs",
            "contents": [
              {
                "type": "image",
                "url": "https://img-flex.xn--m3ca1athe9asc7b2b6iqe.com/line_flex_message/flex_raw_material/source/ltp_logo_program/logo1_maetuktaa.png",
                "aspectMode": "fit",
                "aspectRatio": "2:1",
                "size": "5xl"
              },
              {
                "type": "text",
                "size": "xxs",
                "margin": "md",
                "color": "#000000",
                "weight": "regular",
                "align": "end",
                "style": "normal",
                "offsetTop": "-10px",
                "text": " "
              },
              {
                "type": "box",
                "layout": "horizontal",
                "spacing": "md",
                "margin": "lg",
                "justifyContent": "space-around",
                "contents": [
                  {
                    "type": "box",
                    "layout": "horizontal",
                    "alignItems": "center",
                    "contents": [
                      {
                        "type": "text",
                        "text": "2",
                        "weight": "bold",
                        "size": "lg",
                        "align": "center"
                      },
                      {
                        "type": "text",
                        "text": "9",
                        "weight": "bold",
                        "size": "lg",
                        "align": "center"
                      },
                      {
                        "type": "text",
                        "text": "4",
                        "weight": "bold",
                        "size": "lg",
                        "align": "center"
                      },
                      {
                        "type": "text",
                        "text": "7",
                        "size": "lg",
                        "weight": "bold",
                        "align": "center"
                      },
                      {
                        "type": "text",
                        "text": "0",
                        "size": "lg",
                        "weight": "bold",
                        "align": "center"
                      }
                    ],
                    "justifyContent": "center"
                  }
                ]
              },
              {
                "type": "box",
                "layout": "vertical",
                "contents": [
                  {
                    "type": "text",
                    "text": "แม่ตุ๊กตา",
                    "size": "lg",
                    "align": "center",
                    "contents": [
                      {
                        "type": "span",
                        "text": " ",
                        "weight": "bold",
                        "style": "normal",
                        "size": "sm"
                      }
                    ],
                    "margin": "10px"
                  }
                ],
                "margin": "5px"
              }
            ],
            "spacing": "none",
            "offsetTop": "-40px",
            "paddingBottom": "xxl",
            "margin": "10px"
          },
          {
            "type": "text",
            "text": "**เป็นความเชื่อส่วนบุคคล",
            "margin": "lg",
            "position": "absolute",
            "size": "xxl",
            "align": "end",
            "offsetStart": "170px",
            "offsetTop": "400px",
            "contents": [
              {
                "type": "span",
                "text": "**เป็นความเชื่อส่วนบุคคล",
                "size": "xxs",
                "style": "normal"
              }
            ],
            "style": "normal"
          }
        ],
        "cornerRadius": "xl",
        "paddingAll": "md",
        "height": "420px"
      }
    }
  ]
};

            const flexItems = [
                { id: 1, title: "Lottery Plus Campaign (Type 1)", type: "Bubble", color: "bg-red-600", icon: "ticket", desc: "Flex Message พร้อมวิดีโอ Hero (Giga Size) และเมนูเลือกซื้อลอตเตอรี่", jsonCode: lotteryJson, renderer: 'type1' },
                { id: 2, title: "Lottery Plus Carousel (Type 2)", type: "Carousel Layers", color: "bg-green-500", icon: "layers", desc: "Carousel Layout เน้นการซ้อนเลเยอร์รูปภาพ (Absolute Position)", jsonCode: lotteryJson2, renderer: 'type2' },
                { id: 3, title: "Lucky Numbers (Type 3)", type: "Carousel Gradient", color: "bg-purple-600", icon: "star", desc: "ดีไซน์ใหม่ 2025: 1 การ์ดรวมผลรางวัล 2 เจ้า จัดวางแบบ Stack พร้อม Gradient Background", jsonCode: lotteryJson3, renderer: 'type3' },
            ];

            return (
                <div className="min-h-screen bg-slate-50 pt-24 pb-12 px-6">
                    {selectedJson && <JsonModal title={selectedJson.title} code={selectedJson.jsonCode} onClose={() => setSelectedJson(null)} />}
                    <div className="max-w-6xl mx-auto">
                        <div className="flex items-center mb-8 cursor-pointer text-slate-500 hover:text-green-600" onClick={() => setPage('home')}>
                            <Icon name="arrow-left" size={20} className="mr-2" /> กลับหน้าหลัก
                        </div>
                        <h2 className="text-4xl font-bold text-slate-900 mb-2">Flex Message Showcase</h2>
                        <p className="text-slate-500 mb-10">รวมรูปแบบ JSON Message ดีไซน์พิเศษสำหรับธุรกิจ</p>
                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6 items-start">
                            {flexItems.map((item) => (
                                <div key={item.id} className="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden hover:shadow-lg transition-all flex flex-col h-full">
                                    <div className="bg-slate-200 p-4 flex justify-center items-start overflow-hidden">
                                        <div className="w-full max-w-[300px]">
                                            {item.renderer === 'type1' && <LotteryFlexRenderer json={item.jsonCode} />}
                                            {item.renderer === 'type2' && <Type2CarouselRenderer json={item.jsonCode} />}
                                            {item.renderer === 'type3' && <Type3CarouselRenderer json={item.jsonCode} />}
                                        </div>
                                    </div>
                                    <div className="p-6 mt-auto">
                                        <div className="flex justify-between items-start mb-3"><h3 className="text-xl font-bold text-slate-800 line-clamp-1">{item.title}</h3><span className="text-[10px] font-bold px-2 py-1 bg-slate-100 text-slate-500 rounded uppercase tracking-wide">{item.type}</span></div>
                                        <p className="text-sm text-slate-500 leading-relaxed mb-4">{item.desc}</p>
                                        <button onClick={() => setSelectedJson(item)} className="w-full py-2.5 rounded-xl border border-slate-200 text-slate-600 font-medium text-sm hover:bg-slate-50 hover:border-green-300 hover:text-green-600 transition flex items-center justify-center"><Icon name="code" size={16} className="mr-2" /> ดูโค้ด JSON</button>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [page, setPage] = useState('home');
            useEffect(() => { window.scrollTo(0, 0); }, [page]);
            return (
                <div className="antialiased">
                    <Navbar setPage={setPage} currentPage={page} />
                    <main>
                        {page === 'home' && <HomePage setPage={setPage} />}
                        {page === 'flex' && <FlexPage setPage={setPage} />}
                        {page === 'platform' && <PlatformPage setPage={setPage} />}
                    </main>
                    <footer className="bg-slate-900 text-slate-400 py-8 text-center text-sm"><p>© 2024 My Portfolio. Built with React & Tailwind CSS.</p></footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
